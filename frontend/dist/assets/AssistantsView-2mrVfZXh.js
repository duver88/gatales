import{l as Se,K as k,c as o,a as e,t as r,d as p,F as E,y as I,w as Me,e as x,v as f,M as P,L as H,i as g,p as c,b as O,r as d,q as _,o as n}from"./index-DdZd5_5M.js";import{_ as Te}from"./_plugin-vue_export-helper-DlAUqK2U.js";const je={class:"p-4 sm:p-6"},Ie={key:0,class:"bg-red-500/20 text-red-400 p-4 rounded-lg mb-6"},Pe={key:1,class:"bg-green-500/20 text-green-400 p-4 rounded-lg mb-6"},Oe={key:2,class:"text-gatales-text-secondary"},Re={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ne={key:0,class:"absolute top-2 right-2 px-2 py-0.5 bg-gatales-accent text-white text-xs rounded"},De={class:"flex items-center gap-2 mb-3"},Ve={class:"text-xs text-gatales-text-secondary"},Ue={class:"text-lg font-semibold text-gatales-text mb-1"},Be={class:"text-sm text-gatales-text-secondary mb-2"},ze={key:1,class:"text-xs text-gatales-text-secondary mb-3 line-clamp-2"},Le={class:"flex flex-wrap gap-2 text-xs text-gatales-text-secondary mb-4"},Fe={class:"px-2 py-1 bg-gatales-input rounded"},$e={class:"px-2 py-1 bg-gatales-input rounded"},qe={class:"px-2 py-1 bg-gatales-input rounded"},Ge={key:1,class:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded flex items-center gap-1"},He={class:"flex flex-wrap gap-2"},Ke=["onClick"],We=["onClick"],Xe=["onClick","disabled"],Qe=["onClick"],Je=["onClick"],Ye=["onClick"],Ze={key:2,class:"mt-4 p-3 bg-gatales-input rounded-lg"},et={class:"flex justify-between items-start mb-2"},tt={class:"text-xs text-gatales-text-secondary"},st={class:"text-sm text-gatales-text whitespace-pre-wrap line-clamp-4"},at={key:4,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},lt={class:"relative bg-gatales-sidebar rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},ot={class:"sticky top-0 bg-gatales-sidebar p-4 border-b border-gatales-border flex justify-between items-center"},nt={class:"text-lg font-semibold text-gatales-text"},rt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},it={class:"flex items-center gap-2"},dt={class:"border-t border-gatales-border pt-4"},ut={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ct=["value"],pt=["value"],xt={class:"text-xs text-gatales-text-secondary mt-1"},vt={key:0,class:"sm:col-span-2"},mt=["disabled"],gt=["value"],bt={key:0,class:"text-xs text-orange-400 mt-1"},ft={class:"block text-sm font-medium text-gatales-text-secondary mb-1"},yt={class:"flex items-center gap-3"},kt=["disabled"],_t={class:"text-sm text-gatales-text w-10 text-right"},wt={key:0,class:"text-xs text-yellow-400 mt-1"},ht={key:1,class:"text-xs text-gatales-text-secondary mt-1"},Ct={class:"border-t border-gatales-border pt-4"},At={class:"flex justify-between items-start mb-3"},Et={class:"flex items-center gap-2"},St={class:"flex items-center gap-2 mb-2"},Mt={key:0,class:"text-xs text-blue-300/80 space-y-1"},Tt={key:1,class:"text-xs text-green-300/80 space-y-1"},jt={class:"mb-4"},It={class:"flex flex-wrap gap-2"},Pt={class:"relative"},Ot={class:"text-xs text-gatales-text-secondary mt-2"},Rt={class:"border-t border-gatales-border pt-4"},Nt={class:"border-t border-gatales-border pt-4"},Dt={key:0,class:"text-xs text-yellow-400 mb-3"},Vt={key:1,class:"text-xs text-gatales-text-secondary mb-3"},Ut={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Bt={class:"block text-sm font-medium text-gatales-text-secondary mb-1"},zt={class:"flex items-center gap-3"},Lt=["disabled"],Ft={class:"text-sm text-gatales-text w-10 text-right"},$t={class:"block text-sm font-medium text-gatales-text-secondary mb-1"},qt={class:"flex items-center gap-3"},Gt=["disabled"],Ht={class:"text-sm text-gatales-text w-10 text-right"},Kt={class:"block text-sm font-medium text-gatales-text-secondary mb-1"},Wt={class:"flex items-center gap-3"},Xt=["disabled"],Qt={class:"text-sm text-gatales-text w-10 text-right"},Jt={class:"border-t border-gatales-border pt-4"},Yt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Zt={class:"border-t border-gatales-border pt-4"},es={key:0,class:"space-y-4 pl-6"},ts={key:0,class:"text-xs text-yellow-400 mb-3 p-2 bg-yellow-500/10 rounded"},ss={key:1,class:"text-xs text-blue-400 mb-3 p-2 bg-blue-500/10 rounded"},as={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ls={class:"flex flex-wrap gap-6"},os={class:"flex items-center gap-2"},ns={class:"flex items-center gap-2"},rs={key:0,class:"flex items-center gap-2"},is={class:"border-t border-gatales-border pt-4"},ds={class:"flex items-center gap-2"},us={class:"flex gap-2 pt-4 border-t border-gatales-border"},cs=["disabled"],ps={key:5,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},xs={class:"relative bg-gatales-sidebar rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},vs={class:"sticky top-0 bg-gatales-sidebar p-4 border-b border-gatales-border"},ms={class:"flex justify-between items-center"},gs={class:"text-sm text-gatales-text-secondary"},bs={class:"p-4 space-y-4"},fs={key:0,class:"p-4 bg-orange-500/20 border border-orange-500/30 rounded-lg"},ys={key:1,class:"flex items-center justify-between p-4 bg-gatales-input rounded-lg"},ks={key:0,class:"text-xs text-orange-400 mt-2"},_s=["disabled"],ws={key:0,class:"grid grid-cols-4 gap-3"},hs={class:"p-3 bg-gatales-input rounded-lg text-center"},Cs={class:"text-lg font-bold text-gatales-text"},As={class:"p-3 bg-gatales-input rounded-lg text-center"},Es={class:"text-lg font-bold text-green-400"},Ss={class:"p-3 bg-gatales-input rounded-lg text-center"},Ms={class:"text-lg font-bold text-yellow-400"},Ts={class:"p-3 bg-gatales-input rounded-lg text-center"},js={class:"text-sm font-bold text-gatales-text"},Is={class:"border-2 border-dashed border-gatales-border rounded-lg p-6 text-center"},Ps=["disabled"],Os={class:"text-sm text-gatales-text"},Rs={class:"text-xs text-gatales-text-secondary"},Ns={key:1,class:"text-center py-4 text-gatales-text-secondary"},Ds={key:2,class:"text-center py-8 text-gatales-text-secondary"},Vs={key:3,class:"space-y-2"},Us={class:"flex items-center gap-3 min-w-0"},Bs={class:"flex-shrink-0 w-8 h-8 bg-gatales-sidebar rounded flex items-center justify-center"},zs={class:"w-5 h-5 text-gatales-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ls=["d"],Fs={class:"min-w-0"},$s={class:"text-sm text-gatales-text truncate"},qs={class:"flex items-center gap-2 text-xs text-gatales-text-secondary"},Gs={class:"flex items-center gap-1"},Hs={key:0,class:"text-xs text-red-400 mt-1"},Ks=["onClick","disabled"],Ws={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Qs={key:3,class:"text-center py-8 text-gatales-text-secondary"},Js={key:6,class:"fixed inset-0 z-[60] bg-gatales-bg flex flex-col"},Ys={class:"flex items-center justify-between p-4 border-b border-gatales-border bg-gatales-sidebar"},Zs={class:"flex items-center gap-3"},ea={class:"flex-1 flex overflow-hidden"},ta={class:"flex-1 flex flex-col p-4 overflow-hidden"},sa={class:"w-96 border-l border-gatales-border bg-gatales-sidebar overflow-y-auto"},aa={class:"flex items-center gap-3 mb-2"},la={class:"text-sm font-semibold text-gatales-text"},oa={class:"text-xs text-gatales-text-secondary"},na={class:"p-4 space-y-5"},ra={class:"space-y-2"},ia={class:"flex items-center justify-between text-xs"},da={class:"flex items-center justify-between text-xs"},ua={class:"flex items-center justify-between text-xs"},ca={class:"text-green-400"},pa={class:"flex items-center justify-between text-xs"},xa={key:0,class:"space-y-2 text-xs text-gatales-text-secondary"},va={key:1,class:"space-y-2 text-xs text-gatales-text-secondary"},ma={class:"space-y-1.5"},ga={class:"grid grid-cols-2 gap-2"},ba={key:0,class:"text-gatales-text-secondary"},fa={key:1,class:"text-gatales-text-secondary"},ya={class:"p-4 border-t border-gatales-border bg-gatales-sidebar flex justify-end gap-3"},ka={__name:"AssistantsView",setup(_a){const K=d([]),ee=d({}),W=d({}),te=d({}),X=d(!0),v=d(null),m=d(null),R=d(!1),S=d(!1),N=d(!1),D=d(null),V=d(!1),le=d("Hola, como estas?"),M=d(null),U=d(null),Q=d(!1),u=d(null),B=d([]),w=d(null),oe=d({}),z=d(512),J=d(!1),T=d(!1),L=d(!1),F=d(null),Y={name:"",description:"",is_active:!0,provider:"openai",model:"gpt-4o-mini",reasoning_effort:"minimal",system_prompt:"Eres un asistente de IA util y amigable.",temperature:.7,max_tokens:2e3,top_p:1,frequency_penalty:0,presence_penalty:0,response_format:"text",stop_sequences:"",seed:null,n_completions:1,logprobs:!1,stream:!1,context_messages:10,filter_unsafe_content:!0,include_user_id:!0,assistant_display_name:"",welcome_message:"Hola! Como puedo ayudarte hoy?",use_knowledge_base:!1},a=d({...Y}),$=d(!1),C=d(!1),se={guiones:`## ROL
Eres un experto guionista especializado en crear guiones de video para redes sociales y YouTube. Tienes años de experiencia creando contenido viral que conecta emocionalmente con la audiencia.

## PERSONALIDAD
- Tono: Amigable y profesional
- Estilo: Creativo pero estructurado
- Actitud: Entusiasta y motivador

## INSTRUCCIONES PRINCIPALES
1. Siempre pregunta primero sobre el negocio/producto del usuario si no lo conoces
2. Crea guiones con estructura clara: gancho, desarrollo, llamada a accion
3. Adapta el lenguaje al publico objetivo del usuario
4. Incluye indicaciones de tono y emocion en el guion
5. Ofrece variantes cuando sea apropiado

## FORMATO DE RESPUESTA
- Usa formato de guion con indicaciones claras
- Incluye tiempos aproximados
- Marca las secciones (GANCHO, DESARROLLO, CTA)
- Agrega notas de produccion cuando sea util

## RESTRICCIONES
- No uses lenguaje ofensivo
- Evita promesas exageradas o falsas
- No copies contenido de otros creadores`,asistente:`## ROL
Eres un asistente virtual inteligente y servicial. Tu objetivo es ayudar a los usuarios de manera eficiente y clara.

## PERSONALIDAD
- Tono: Amigable y profesional
- Estilo: Claro y conciso
- Actitud: Paciente y comprensivo

## INSTRUCCIONES
1. Responde de manera clara y directa
2. Si no entiendes algo, pide clarificacion
3. Ofrece ayuda adicional cuando sea relevante
4. Mantiene un tono positivo y constructivo

## FORMATO
- Usa listas para instrucciones paso a paso
- Resalta informacion importante
- Manten respuestas concisas pero completas

## RESTRICCIONES
- No inventes informacion
- Si no sabes algo, admitelo honestamente
- Evita respuestas demasiado largas`,experto:`## ROL
Eres un experto tecnico con amplio conocimiento en tu area. Proporcionas informacion precisa y detallada.

## PERSONALIDAD
- Tono: Profesional y tecnico
- Estilo: Detallado y preciso
- Actitud: Educativo y paciente

## INSTRUCCIONES
1. Explica conceptos tecnicos de manera accesible
2. Proporciona ejemplos practicos
3. Ofrece alternativas cuando sea posible
4. Incluye advertencias sobre posibles problemas

## FORMATO
- Usa codigo formateado cuando sea relevante
- Incluye explicaciones paso a paso
- Organiza la informacion con encabezados claros

## RESTRICCIONES
- No des consejos sin advertir sobre riesgos
- Verifica la precision de la informacion tecnica
- Admite cuando algo esta fuera de tu expertise`,creativo:`## ROL
Eres un escritor creativo con talento para crear contenido original, atractivo y memorable.

## PERSONALIDAD
- Tono: Creativo e inspirador
- Estilo: Expresivo y unico
- Actitud: Imaginativo y entusiasta

## INSTRUCCIONES
1. Crea contenido original y atractivo
2. Adapta el estilo al proposito del contenido
3. Usa tecnicas narrativas efectivas
4. Incorpora elementos que generen engagement

## FORMATO
- Varia la estructura segun el tipo de contenido
- Usa metaforas y lenguaje visual
- Crea ritmo y fluidez en el texto

## RESTRICCIONES
- Manten originalidad, no copies
- Respeta el tono de marca del usuario
- Evita cliches cuando sea posible`};function h(l){if(se[l]){if(a.value.system_prompt&&a.value.system_prompt.trim()!==""&&a.value.system_prompt!==Y.system_prompt&&!confirm("¿Reemplazar las instrucciones actuales con esta plantilla?"))return;a.value.system_prompt=se[l]}}const ne=_(()=>{const l=a.value.provider||"openai";return W.value[l]||{}}),i=_(()=>a.value.provider==="deepseek"),j=_(()=>{if(i.value)return!1;const l=a.value.model||"";return l.startsWith("o1")||l.startsWith("gpt-5")}),ae=_(()=>{if(i.value)return!1;const l=a.value.model||"";return l.startsWith("gpt-5")||l.startsWith("o1")}),y=_(()=>ae.value),re=_(()=>i.value?!1:(a.value.model||"").startsWith("gpt-5")),ie=_(()=>!i.value),de=_(()=>{if(!u.value)return!1;const l=u.value.model||"",t=u.value.reasoning_effort||"minimal";return l.startsWith("gpt-5")&&t!=="none"}),ue=_(()=>u.value?.use_knowledge_base===!0),ce=_(()=>{if(!w.value)return"0 bytes";const l=w.value.total_size;return l>=1073741824?(l/1073741824).toFixed(2)+" GB":l>=1048576?(l/1048576).toFixed(2)+" MB":l>=1024?(l/1024).toFixed(2)+" KB":l+" bytes"});Se(async()=>{await A()});async function A(){X.value=!0,v.value=null;try{const l=await k.getAssistants();K.value=l.data.assistants,ee.value=l.data.available_providers||{},W.value=l.data.available_models||{},te.value=l.data.reasoning_effort_options||{}}catch{v.value="Error al cargar los asistentes"}finally{X.value=!1}}function pe(){const l=a.value.provider,t=W.value[l]||{},s=Object.keys(t);s.length>0&&!t[a.value.model]&&(a.value.model=s[0]),l==="deepseek"&&(a.value.use_knowledge_base=!1)}function xe(){a.value={...Y},S.value=!1,D.value=null,R.value=!0}function ve(l){a.value={...l},S.value=!0,D.value=l,R.value=!0}function q(){R.value=!1,D.value=null}async function me(){N.value=!0,v.value=null;try{S.value?(await k.updateAssistant(D.value.id,a.value),m.value="Asistente actualizado correctamente"):(await k.createAssistant(a.value),m.value="Asistente creado correctamente"),q(),await A(),setTimeout(()=>{m.value=null},3e3)}catch(l){v.value=l.response?.data?.message||"Error al guardar"}finally{N.value=!1}}async function ge(l){if(confirm(`¿Eliminar "${l.name}"? Los usuarios seran reasignados al asistente por defecto.`))try{await k.deleteAssistant(l.id),m.value="Asistente eliminado correctamente",await A(),setTimeout(()=>{m.value=null},3e3)}catch(t){v.value=t.response?.data?.message||"Error al eliminar"}}async function be(l){try{await k.setDefaultAssistant(l.id),m.value="Asistente establecido como predeterminado",await A(),setTimeout(()=>{m.value=null},3e3)}catch(t){v.value=t.response?.data?.message||"Error"}}async function fe(l){try{await k.duplicateAssistant(l.id),m.value="Asistente duplicado correctamente",await A(),setTimeout(()=>{m.value=null},3e3)}catch(t){v.value=t.response?.data?.message||"Error al duplicar"}}async function ye(l){U.value=l.id,V.value=!0,M.value=null;try{const t=await k.testAssistant(l.id,le.value);M.value=t.data}catch(t){v.value=t.response?.data?.message||"Error al probar"}finally{V.value=!1}}async function ke(l){u.value=l,Q.value=!0,await G()}function Z(){Q.value=!1,u.value=null,B.value=[],w.value=null}async function G(){if(u.value){J.value=!0;try{const l=await k.getAssistantFiles(u.value.id);B.value=l.data.files,w.value=l.data.stats,oe.value=l.data.supported_types,z.value=l.data.max_file_size_mb}catch(l){v.value=l.response?.data?.message||"Error al cargar archivos"}finally{J.value=!1}}}async function _e(){if(u.value){L.value=!0,v.value=null;try{if(u.value.use_knowledge_base){if(!confirm("¿Desactivar la base de conocimientos? Se eliminaran todos los archivos subidos.")){L.value=!1;return}await k.disableKnowledgeBase(u.value.id),m.value="Base de conocimientos desactivada"}else await k.enableKnowledgeBase(u.value.id),m.value="Base de conocimientos activada";await A(),u.value=K.value.find(l=>l.id===u.value.id),await G(),setTimeout(()=>{m.value=null},3e3)}catch(l){v.value=l.response?.data?.message||"Error al cambiar estado"}finally{L.value=!1}}}async function we(l){const t=l.target.files?.[0];if(!(!t||!u.value)){if(t.size>z.value*1024*1024){v.value=`El archivo excede el tamaño máximo de ${z.value} MB`,l.target.value="";return}T.value=!0,v.value=null;try{await k.uploadAssistantFile(u.value.id,t),m.value="Archivo subido correctamente",await G(),setTimeout(()=>{m.value=null},3e3)}catch(s){v.value=s.response?.data?.message||"Error al subir archivo"}finally{T.value=!1,l.target.value=""}}}async function he(l){if(u.value&&confirm(`¿Eliminar "${l.original_name}"?`)){F.value=l.id,v.value=null;try{await k.deleteAssistantFile(u.value.id,l.id),m.value="Archivo eliminado correctamente",await G(),setTimeout(()=>{m.value=null},3e3)}catch(t){v.value=t.response?.data?.message||"Error al eliminar archivo"}finally{F.value=null}}}function Ce(l){const t={pdf:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z",doc:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",docx:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",txt:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",md:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"};return t[l]||t.txt}function Ae(l){switch(l){case"ready":return"bg-green-500";case"processing":return"bg-yellow-500";case"failed":return"bg-red-500";default:return"bg-gray-500"}}function Ee(l){switch(l){case"ready":return"Listo";case"processing":return"Procesando";case"failed":return"Error";default:return"Desconocido"}}return(l,t)=>(n(),o("div",je,[e("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"},[t[43]||(t[43]=e("h1",{class:"text-xl sm:text-2xl font-bold text-gatales-text"},"Asistentes de IA",-1)),e("button",{onClick:xe,class:"btn-primary"}," + Crear Asistente ")]),v.value?(n(),o("div",Ie,r(v.value),1)):p("",!0),m.value?(n(),o("div",Pe,r(m.value),1)):p("",!0),X.value?(n(),o("div",Oe,"Cargando...")):(n(),o("div",Re,[(n(!0),o(E,null,I(K.value,s=>(n(),o("div",{key:s.id,class:"card relative"},[s.is_default?(n(),o("div",Ne," Por defecto ")):p("",!0),e("div",De,[e("div",{class:c(["w-2 h-2 rounded-full",s.is_active?"bg-green-500":"bg-red-500"])},null,2),e("span",Ve,r(s.is_active?"Activo":"Inactivo"),1)]),e("h3",Ue,r(s.name),1),e("p",Be,r(s.assistant_display_name),1),s.description?(n(),o("p",ze,r(s.description),1)):p("",!0),e("div",Le,[e("span",{class:c(["px-2 py-1 rounded font-medium",s.provider==="deepseek"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"])},r(s.provider==="deepseek"?"DeepSeek":"OpenAI"),3),e("span",Fe,r(s.model),1),e("span",$e," Temp: "+r(s.model?.startsWith("o1")||s.model?.startsWith("gpt-5")?"N/A":s.temperature),1),s.model?.startsWith("gpt-5")?(n(),o("span",{key:0,class:c(["px-2 py-1 rounded",s.reasoning_effort==="minimal"||s.reasoning_effort==="none"?"bg-green-500/20 text-green-400":s.reasoning_effort==="low"||s.reasoning_effort==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"])}," Reasoning: "+r(s.reasoning_effort||"minimal"),3)):p("",!0),e("span",qe,r(s.users_count||0)+" usuarios",1),s.use_knowledge_base?(n(),o("span",Ge,[...t[44]||(t[44]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),g(" Base de conocimientos ",-1)])])):p("",!0)]),e("div",He,[e("button",{onClick:b=>ve(s),class:"btn-secondary text-xs px-3 py-1.5"}," Editar ",8,Ke),e("button",{onClick:b=>ke(s),class:"btn-secondary text-xs px-3 py-1.5 flex items-center gap-1"},[...t[45]||(t[45]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),g(" Archivos ",-1)])],8,We),e("button",{onClick:b=>ye(s),disabled:V.value&&U.value===s.id,class:"btn-secondary text-xs px-3 py-1.5"},r(V.value&&U.value===s.id?"Probando...":"Probar"),9,Xe),e("button",{onClick:b=>fe(s),class:"btn-secondary text-xs px-3 py-1.5"}," Duplicar ",8,Qe),s.is_default?p("",!0):(n(),o("button",{key:0,onClick:b=>be(s),class:"btn-secondary text-xs px-3 py-1.5"}," Hacer default ",8,Je)),s.is_default?p("",!0):(n(),o("button",{key:1,onClick:b=>ge(s),class:"text-red-400 text-xs px-3 py-1.5 hover:bg-red-500/20 rounded"}," Eliminar ",8,Ye))]),M.value&&U.value===s.id?(n(),o("div",Ze,[e("div",et,[t[46]||(t[46]=e("span",{class:"text-xs font-medium text-gatales-accent"},"Respuesta de prueba:",-1)),e("span",tt,r(M.value.tokens_used)+" tokens",1)]),e("p",st,r(M.value.response),1)])):p("",!0)]))),128))])),R.value?(n(),o("div",at,[e("div",{class:"absolute inset-0 bg-black/50",onClick:q}),e("div",lt,[e("div",ot,[e("h2",nt,r(S.value?"Editar Asistente":"Crear Asistente"),1),e("button",{onClick:q,class:"text-gatales-text-secondary hover:text-gatales-text"},[...t[47]||(t[47]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:Me(me,["prevent"]),class:"p-4 space-y-4"},[e("div",rt,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Nombre (Admin)",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),type:"text",class:"input-field",required:"",placeholder:"ej: Gatales Premium"},null,512),[[f,a.value.name]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Nombre mostrado al usuario",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.assistant_display_name=s),type:"text",class:"input-field",required:"",placeholder:"ej: Tu Asistente"},null,512),[[f,a.value.assistant_display_name]])])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Descripcion (opcional)",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.description=s),type:"text",class:"input-field",placeholder:"Descripcion para admin"},null,512),[[f,a.value.description]])]),e("div",it,[x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.is_active=s),type:"checkbox",id:"is_active",class:"accent-gatales-accent"},null,512),[[P,a.value.is_active]]),t[51]||(t[51]=e("label",{for:"is_active",class:"text-sm text-gatales-text"},"Activo",-1))]),e("div",dt,[t[61]||(t[61]=e("h3",{class:"text-sm font-semibold text-gatales-text mb-3"},"Proveedor y Modelo",-1)),e("div",ut,[e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Proveedor de IA",-1)),x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.provider=s),onChange:pe,class:"input-field"},[(n(!0),o(E,null,I(ee.value,(s,b)=>(n(),o("option",{key:b,value:b},r(s),9,ct))),128))],544),[[H,a.value.provider]]),t[53]||(t[53]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"OpenAI o DeepSeek",-1))]),e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Modelo",-1)),x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.model=s),class:"input-field"},[(n(!0),o(E,null,I(ne.value,(s,b)=>(n(),o("option",{key:b,value:b},r(s),9,pt))),128))],512),[[H,a.value.model]]),e("p",xt,"Modelo de "+r(a.value.provider==="deepseek"?"DeepSeek":"OpenAI")+" a utilizar",1)]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Max Tokens",-1)),x(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>a.value.max_tokens=s),type:"number",min:"100",max:"16000",class:"input-field"},null,512),[[f,a.value.max_tokens,void 0,{number:!0}]]),t[56]||(t[56]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Maximo de tokens en la respuesta",-1))]),re.value?(n(),o("div",vt,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},[g(" Reasoning Effort "),e("span",{class:"text-yellow-400 ml-1"},"(IMPORTANTE: afecta velocidad)")],-1)),x(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>a.value.reasoning_effort=s),class:c(["input-field",{"opacity-50 cursor-not-allowed":a.value.use_knowledge_base}]),disabled:a.value.use_knowledge_base},[(n(!0),o(E,null,I(te.value,(s,b)=>(n(),o("option",{key:b,value:b},r(s),9,gt))),128))],10,mt),[[H,a.value.reasoning_effort]]),t[58]||(t[58]=O('<div class="mt-2 p-2 bg-gatales-input rounded text-xs" data-v-ba5235e8><p class="text-gatales-text mb-1" data-v-ba5235e8><strong data-v-ba5235e8>Guia de velocidad:</strong></p><ul class="text-gatales-text-secondary space-y-0.5" data-v-ba5235e8><li data-v-ba5235e8><span class="text-green-400" data-v-ba5235e8>minimal/none</span> = Respuesta rapida (recomendado)</li><li data-v-ba5235e8><span class="text-yellow-400" data-v-ba5235e8>low/medium</span> = Mas lento, mejor razonamiento</li><li data-v-ba5235e8><span class="text-red-400" data-v-ba5235e8>high/xhigh</span> = MUY lento, maxima calidad</li></ul></div>',1)),a.value.use_knowledge_base?(n(),o("p",bt," ⚠️ Knowledge Base activo: Reasoning Effort deshabilitado (no son compatibles) ")):p("",!0)])):p("",!0),e("div",null,[e("label",ft," Temperatura ("+r(j.value?"N/A":a.value.temperature)+") ",1),e("div",yt,[x(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>a.value.temperature=s),type:"range",min:"0",max:"2",step:"0.1",disabled:j.value,class:c(["flex-1 accent-gatales-accent",j.value?"opacity-50 cursor-not-allowed":""])},null,10,kt),[[f,a.value.temperature,void 0,{number:!0}]]),e("span",_t,r(j.value?"-":a.value.temperature),1)]),j.value?(n(),o("p",wt," Los modelos o1 y GPT-5 no soportan temperatura personalizada (solo valor por defecto=1) ")):(n(),o("p",ht,"0 = determinista, 2 = muy creativo"))]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Mensajes de Contexto",-1)),x(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.value.context_messages=s),type:"number",min:"1",max:"50",class:"input-field"},null,512),[[f,a.value.context_messages,void 0,{number:!0}]]),t[60]||(t[60]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Cuantos mensajes previos incluir",-1))])])]),e("div",Ct,[e("div",At,[t[63]||(t[63]=e("div",null,[e("h3",{class:"text-sm font-semibold text-gatales-text"},"Instrucciones del Sistema (System Prompt)"),e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Define como debe comportarse y responder el asistente")],-1)),e("div",Et,[e("span",{class:c(["text-xs px-2 py-1 rounded",a.value.system_prompt.length>6e4?"bg-red-500/20 text-red-400":a.value.system_prompt.length>3e4?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"])},r(a.value.system_prompt.length)+" caracteres ",3),e("button",{type:"button",onClick:t[10]||(t[10]=s=>C.value=!0),class:"p-2 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-gatales-text",title:"Expandir a pantalla completa"},[...t[62]||(t[62]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)])])])]),e("div",{class:c(["mb-4 p-3 rounded-lg border",i.value?"bg-blue-500/10 border-blue-500/20":"bg-green-500/10 border-green-500/20"])},[e("div",St,[e("span",{class:c(["text-xs font-medium px-2 py-0.5 rounded",i.value?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"])},r(i.value?"DeepSeek":"OpenAI GPT"),3),t[64]||(t[64]=e("span",{class:"text-xs text-gatales-text-secondary"},"Tips para este modelo:",-1))]),i.value?(n(),o("div",Mt,[...t[65]||(t[65]=[e("p",null,[g("• DeepSeek responde bien a instrucciones "),e("strong",null,"directas y claras")],-1),e("p",null,[g("• Usa formato de "),e("strong",null,"lista numerada"),g(" para instrucciones")],-1),e("p",null,[g("• Especifica el "),e("strong",null,"idioma de respuesta"),g(" explicitamente")],-1),e("p",null,[g("• Evita instrucciones muy largas - se mas "),e("strong",null,"conciso")],-1)])])):(n(),o("div",Tt,[...t[66]||(t[66]=[e("p",null,[g("• GPT entiende bien instrucciones "),e("strong",null,"detalladas y con contexto")],-1),e("p",null,[g("• Usa "),e("strong",null,"encabezados con ##"),g(" para organizar secciones")],-1),e("p",null,[g("• Puedes incluir "),e("strong",null,"ejemplos de conversacion")],-1),e("p",null,[g("• Funciona bien con instrucciones "),e("strong",null,"largas y especificas")],-1)])]))],2),e("div",jt,[t[67]||(t[67]=e("label",{class:"block text-xs font-medium text-gatales-text-secondary mb-2"},"Plantillas:",-1)),e("div",It,[e("button",{type:"button",onClick:t[11]||(t[11]=s=>h("guiones")),class:"text-xs px-3 py-1.5 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-gatales-text"}," Guionista "),e("button",{type:"button",onClick:t[12]||(t[12]=s=>h("asistente")),class:"text-xs px-3 py-1.5 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-gatales-text"}," Asistente "),e("button",{type:"button",onClick:t[13]||(t[13]=s=>h("experto")),class:"text-xs px-3 py-1.5 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-gatales-text"}," Experto "),e("button",{type:"button",onClick:t[14]||(t[14]=s=>h("creativo")),class:"text-xs px-3 py-1.5 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-gatales-text"}," Creativo ")])]),e("div",Pt,[x(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=s=>a.value.system_prompt=s),rows:"8",class:"input-field font-mono text-sm leading-relaxed pr-10",required:"",placeholder:"Escribe aqui las instrucciones..."},null,512),[[f,a.value.system_prompt]]),e("button",{type:"button",onClick:t[16]||(t[16]=s=>C.value=!0),class:"absolute top-2 right-2 p-1.5 bg-gatales-sidebar/80 hover:bg-gatales-border rounded text-gatales-text-secondary hover:text-gatales-text transition-colors",title:"Expandir"},[...t[68]||(t[68]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)])])]),e("p",Ot,[e("span",{class:"text-gatales-accent cursor-pointer hover:underline",onClick:t[17]||(t[17]=s=>C.value=!0)}," Click aqui o en el icono para expandir "),t[69]||(t[69]=g(" y ver/editar las instrucciones completas ",-1))])]),e("div",Rt,[t[70]||(t[70]=e("h3",{class:"text-sm font-semibold text-gatales-text mb-3"},"Mensaje de Bienvenida",-1)),x(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=s=>a.value.welcome_message=s),rows:"2",class:"input-field",required:"",placeholder:"Mensaje que se muestra al iniciar el chat..."},null,512),[[f,a.value.welcome_message]]),t[71]||(t[71]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Mensaje inicial que ve el usuario",-1))]),e("div",Nt,[t[75]||(t[75]=e("h3",{class:"text-sm font-semibold text-gatales-text mb-3"},"Parametros de Muestreo",-1)),y.value?(n(),o("p",Dt," Los modelos GPT-5 y o1 no soportan parametros de muestreo personalizados ")):(n(),o("p",Vt,"Controlan como el modelo selecciona los tokens")),e("div",Ut,[e("div",null,[e("label",Bt,"Top P ("+r(y.value?"N/A":a.value.top_p)+")",1),e("div",zt,[x(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>a.value.top_p=s),type:"range",min:"0",max:"1",step:"0.05",disabled:y.value,class:c(["flex-1 accent-gatales-accent",y.value?"opacity-50 cursor-not-allowed":""])},null,10,Lt),[[f,a.value.top_p,void 0,{number:!0}]]),e("span",Ft,r(y.value?"-":a.value.top_p),1)]),t[72]||(t[72]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Nucleus sampling",-1))]),e("div",null,[e("label",$t,"Freq. Penalty ("+r(y.value?"N/A":a.value.frequency_penalty)+")",1),e("div",qt,[x(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>a.value.frequency_penalty=s),type:"range",min:"0",max:"2",step:"0.1",disabled:y.value,class:c(["flex-1 accent-gatales-accent",y.value?"opacity-50 cursor-not-allowed":""])},null,10,Gt),[[f,a.value.frequency_penalty,void 0,{number:!0}]]),e("span",Ht,r(y.value?"-":a.value.frequency_penalty),1)]),t[73]||(t[73]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Penaliza repeticion",-1))]),e("div",null,[e("label",Kt,"Presence Penalty ("+r(y.value?"N/A":a.value.presence_penalty)+")",1),e("div",Wt,[x(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>a.value.presence_penalty=s),type:"range",min:"0",max:"2",step:"0.1",disabled:y.value,class:c(["flex-1 accent-gatales-accent",y.value?"opacity-50 cursor-not-allowed":""])},null,10,Xt),[[f,a.value.presence_penalty,void 0,{number:!0}]]),e("span",Qt,r(y.value?"-":a.value.presence_penalty),1)]),t[74]||(t[74]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Fomenta nuevos temas",-1))])])]),e("div",Jt,[t[81]||(t[81]=e("h3",{class:"text-sm font-semibold text-gatales-text mb-3"},"Opciones de Respuesta",-1)),e("div",Yt,[e("div",null,[t[77]||(t[77]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Formato de Respuesta",-1)),x(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>a.value.response_format=s),class:"input-field"},[...t[76]||(t[76]=[e("option",{value:"text"},"Texto",-1),e("option",{value:"json_object"},"JSON",-1)])],512),[[H,a.value.response_format]]),t[78]||(t[78]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Formato de salida",-1))]),e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Stop Sequences",-1)),x(e("input",{"onUpdate:modelValue":t[23]||(t[23]=s=>a.value.stop_sequences=s),type:"text",class:"input-field",placeholder:"Separadas por coma"},null,512),[[f,a.value.stop_sequences]]),t[80]||(t[80]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Secuencias que detienen la generacion",-1))])])]),e("div",Zt,[e("button",{type:"button",onClick:t[24]||(t[24]=s=>$.value=!$.value),class:"flex items-center gap-2 text-sm font-semibold text-gatales-text mb-3"},[(n(),o("svg",{class:c(["w-4 h-4 transition-transform",$.value?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[82]||(t[82]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2)),t[83]||(t[83]=g(" Configuracion Avanzada ",-1))]),$.value?(n(),o("div",es,[ae.value?(n(),o("p",ts," Nota: Algunos parametros avanzados pueden no aplicar a GPT-5 y o1 ")):p("",!0),i.value?(n(),o("p",ss," DeepSeek: Seed y N Completions no estan soportados ")):p("",!0),ie.value?(n(),o("div",as,[e("div",null,[t[84]||(t[84]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"Seed (reproducibilidad)",-1)),x(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>a.value.seed=s),type:"number",class:"input-field",placeholder:"Dejar vacio para aleatorio"},null,512),[[f,a.value.seed,void 0,{number:!0}]]),t[85]||(t[85]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Mismo seed = misma respuesta",-1))]),e("div",null,[t[86]||(t[86]=e("label",{class:"block text-sm font-medium text-gatales-text-secondary mb-1"},"N Completions",-1)),x(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>a.value.n_completions=s),type:"number",min:"1",max:"5",class:"input-field"},null,512),[[f,a.value.n_completions,void 0,{number:!0}]]),t[87]||(t[87]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"},"Numero de respuestas a generar",-1))])])):p("",!0),e("div",ls,[e("div",os,[x(e("input",{"onUpdate:modelValue":t[27]||(t[27]=s=>a.value.stream=s),type:"checkbox",id:"stream",class:"accent-gatales-accent"},null,512),[[P,a.value.stream]]),t[88]||(t[88]=e("label",{for:"stream",class:"text-sm text-gatales-text"},"Streaming",-1))]),e("div",ns,[x(e("input",{"onUpdate:modelValue":t[28]||(t[28]=s=>a.value.logprobs=s),type:"checkbox",id:"logprobs",class:"accent-gatales-accent"},null,512),[[P,a.value.logprobs]]),t[89]||(t[89]=e("label",{for:"logprobs",class:"text-sm text-gatales-text"},"Log Probabilities",-1))]),i.value?p("",!0):(n(),o("div",rs,[x(e("input",{"onUpdate:modelValue":t[29]||(t[29]=s=>a.value.include_user_id=s),type:"checkbox",id:"include_user_id",class:"accent-gatales-accent"},null,512),[[P,a.value.include_user_id]]),t[90]||(t[90]=e("label",{for:"include_user_id",class:"text-sm text-gatales-text"},"Incluir User ID",-1))]))])])):p("",!0)]),e("div",is,[t[92]||(t[92]=e("h3",{class:"text-sm font-semibold text-gatales-text mb-3"},"Seguridad",-1)),e("div",ds,[x(e("input",{"onUpdate:modelValue":t[30]||(t[30]=s=>a.value.filter_unsafe_content=s),type:"checkbox",id:"filter_unsafe",class:"accent-gatales-accent"},null,512),[[P,a.value.filter_unsafe_content]]),t[91]||(t[91]=e("label",{for:"filter_unsafe",class:"text-sm text-gatales-text"},"Filtrar contenido inseguro",-1))])]),e("div",us,[e("button",{type:"button",onClick:q,class:"btn-secondary flex-1"},"Cancelar"),e("button",{type:"submit",disabled:N.value,class:"btn-primary flex-1"},r(N.value?"Guardando...":S.value?"Guardar Cambios":"Crear Asistente"),9,cs)])],32)])])):p("",!0),Q.value?(n(),o("div",ps,[e("div",{class:"absolute inset-0 bg-black/50",onClick:Z}),e("div",xs,[e("div",vs,[e("div",ms,[e("div",null,[t[93]||(t[93]=e("h2",{class:"text-lg font-semibold text-gatales-text"},"Base de Conocimientos",-1)),e("p",gs,r(u.value?.name),1)]),e("button",{onClick:Z,class:"text-gatales-text-secondary hover:text-gatales-text"},[...t[94]||(t[94]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",bs,[u.value?.provider==="deepseek"?(n(),o("div",fs,[...t[95]||(t[95]=[O('<div class="flex items-start gap-3" data-v-ba5235e8><svg class="w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ba5235e8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-ba5235e8></path></svg><div data-v-ba5235e8><h3 class="text-sm font-medium text-orange-400" data-v-ba5235e8>DeepSeek no soporta Knowledge Base</h3><p class="text-xs text-orange-300/80 mt-1" data-v-ba5235e8> Este asistente usa DeepSeek como proveedor. La base de conocimientos solo esta disponible para asistentes que usan OpenAI. </p></div></div>',1)])])):(n(),o("div",ys,[e("div",null,[t[96]||(t[96]=e("h3",{class:"text-sm font-medium text-gatales-text"},"Habilitar Base de Conocimientos",-1)),t[97]||(t[97]=e("p",{class:"text-xs text-gatales-text-secondary mt-1"}," Permite subir archivos (PDF, DOCX, TXT, etc.) que el asistente usara para responder preguntas ",-1)),de.value&&!ue.value?(n(),o("p",ks," ⚠️ Este asistente usa GPT-5 con Reasoning Effort activo. Si activas Knowledge Base, el Reasoning se desactivara automaticamente. ")):p("",!0)]),e("button",{onClick:_e,disabled:L.value,class:c(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",u.value?.use_knowledge_base?"bg-gatales-accent":"bg-gray-600"])},[e("span",{class:c(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",u.value?.use_knowledge_base?"translate-x-5":"translate-x-0"])},null,2)],10,_s)])),u.value?.provider!=="deepseek"&&u.value?.use_knowledge_base?(n(),o(E,{key:2},[w.value?(n(),o("div",ws,[e("div",hs,[e("p",Cs,r(w.value.total),1),t[98]||(t[98]=e("p",{class:"text-xs text-gatales-text-secondary"},"Total",-1))]),e("div",As,[e("p",Es,r(w.value.ready),1),t[99]||(t[99]=e("p",{class:"text-xs text-gatales-text-secondary"},"Listos",-1))]),e("div",Ss,[e("p",Ms,r(w.value.processing),1),t[100]||(t[100]=e("p",{class:"text-xs text-gatales-text-secondary"},"Procesando",-1))]),e("div",Ts,[e("p",js,r(ce.value),1),t[101]||(t[101]=e("p",{class:"text-xs text-gatales-text-secondary"},"Tamaño",-1))])])):p("",!0),e("div",Is,[e("input",{type:"file",id:"file-upload",class:"hidden",onChange:we,disabled:T.value,accept:".pdf,.doc,.docx,.txt,.md,.html,.xls,.xlsx,.ppt,.pptx,.csv,.json"},null,40,Ps),e("label",{for:"file-upload",class:c(["cursor-pointer flex flex-col items-center gap-2",T.value?"opacity-50 pointer-events-none":""])},[t[102]||(t[102]=e("svg",{class:"w-10 h-10 text-gatales-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e("span",Os,r(T.value?"Subiendo...":"Haz clic para subir un archivo"),1),e("span",Rs," PDF, DOCX, TXT, MD, HTML, XLS, XLSX, PPT, PPTX, CSV, JSON (max "+r(z.value)+"MB) ",1)],2)]),J.value?(n(),o("div",Ns," Cargando archivos... ")):B.value.length===0?(n(),o("div",Ds,[...t[103]||(t[103]=[e("svg",{class:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",null,"No hay archivos en la base de conocimientos",-1),e("p",{class:"text-xs mt-1"},"Sube archivos para que el asistente pueda usarlos",-1)])])):(n(),o("div",Vs,[(n(!0),o(E,null,I(B.value,s=>(n(),o("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gatales-input rounded-lg"},[e("div",Us,[e("div",Bs,[(n(),o("svg",zs,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:Ce(s.extension)},null,8,Ls)]))]),e("div",Fs,[e("p",$s,r(s.original_name),1),e("div",qs,[e("span",null,r(s.formatted_size),1),t[104]||(t[104]=e("span",null,"•",-1)),e("span",Gs,[e("span",{class:c(["w-1.5 h-1.5 rounded-full",Ae(s.status)])},null,2),g(" "+r(Ee(s.status)),1)])]),s.error_message?(n(),o("p",Hs,r(s.error_message),1)):p("",!0)])]),e("button",{onClick:b=>he(s),disabled:F.value===s.id,class:"flex-shrink-0 p-2 text-red-400 hover:bg-red-500/20 rounded transition-colors"},[F.value===s.id?(n(),o("svg",Ws,[...t[105]||(t[105]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(n(),o("svg",Xs,[...t[106]||(t[106]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])]))],8,Ks)]))),128))]))],64)):p("",!0),u.value?.provider!=="deepseek"&&!u.value?.use_knowledge_base?(n(),o("div",Qs,[...t[107]||(t[107]=[O('<svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ba5235e8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-ba5235e8></path></svg><p class="text-lg font-medium text-gatales-text mb-2" data-v-ba5235e8>Base de Conocimientos Desactivada</p><p class="text-sm" data-v-ba5235e8>Activa la base de conocimientos para subir archivos que el asistente pueda usar como referencia.</p><p class="text-xs mt-4 max-w-md mx-auto" data-v-ba5235e8> Con la base de conocimientos activada, puedes subir documentos PDF, Word, Excel, y mas. El asistente buscara automaticamente en estos archivos para responder preguntas. </p>',4)])])):p("",!0)]),e("div",{class:"sticky bottom-0 bg-gatales-sidebar p-4 border-t border-gatales-border"},[e("button",{onClick:Z,class:"btn-secondary w-full"},"Cerrar")])])])):p("",!0),C.value?(n(),o("div",Js,[e("div",Ys,[e("div",Zs,[t[108]||(t[108]=e("h2",{class:"text-lg font-semibold text-gatales-text"},"Editor de Instrucciones",-1)),e("span",{class:c(["text-xs px-2 py-1 rounded",i.value?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"])},r(i.value?"DeepSeek":"OpenAI GPT"),3),e("span",{class:c(["text-xs px-2 py-1 rounded",a.value.system_prompt.length>6e4?"bg-red-500/20 text-red-400":a.value.system_prompt.length>3e4?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"])},r(a.value.system_prompt.length)+" caracteres ",3)]),e("button",{onClick:t[31]||(t[31]=s=>C.value=!1),class:"p-2 hover:bg-gatales-input rounded transition-colors text-gatales-text"},[...t[109]||(t[109]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ea,[e("div",ta,[x(e("textarea",{"onUpdate:modelValue":t[32]||(t[32]=s=>a.value.system_prompt=s),class:"flex-1 w-full bg-gatales-input border border-gatales-border rounded-lg p-4 text-gatales-text font-mono text-sm leading-relaxed resize-none focus:outline-none focus:ring-2 focus:ring-gatales-accent",placeholder:"Escribe aqui las instrucciones para el asistente..."},null,512),[[f,a.value.system_prompt]])]),e("div",sa,[e("div",{class:c(["p-4 border-b border-gatales-border",i.value?"bg-blue-500/5":"bg-green-500/5"])},[e("div",aa,[e("div",{class:c(["w-8 h-8 rounded-lg flex items-center justify-center",i.value?"bg-blue-500/20":"bg-green-500/20"])},[(n(),o("svg",{class:c(["w-4 h-4",i.value?"text-blue-400":"text-green-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[110]||(t[110]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1)])],2))],2),e("div",null,[e("h3",la,r(i.value?"DeepSeek":"OpenAI GPT"),1),e("p",oa,r(a.value.model),1)])])],2),e("div",na,[e("div",null,[t[115]||(t[115]=e("h4",{class:"text-xs font-semibold text-gatales-text-secondary uppercase tracking-wider mb-3"},"Capacidades del modelo",-1)),e("div",ra,[e("div",ia,[t[111]||(t[111]=e("span",{class:"text-gatales-text-secondary"},"Prompts largos",-1)),e("span",{class:c(i.value?"text-yellow-400":"text-green-400")},r(i.value?"Moderado":"Excelente"),3)]),e("div",da,[t[112]||(t[112]=e("span",{class:"text-gatales-text-secondary"},"Seguir instrucciones",-1)),e("span",{class:c((i.value,"text-green-400"))},r(i.value?"Muy bueno":"Excelente"),3)]),e("div",ua,[t[113]||(t[113]=e("span",{class:"text-gatales-text-secondary"},"Creatividad",-1)),e("span",ca,r(i.value?"Bueno":"Excelente"),1)]),e("div",pa,[t[114]||(t[114]=e("span",{class:"text-gatales-text-secondary"},"Costo por token",-1)),e("span",{class:c(i.value?"text-green-400":"text-yellow-400")},r(i.value?"Bajo":"Medio-Alto"),3)])])]),e("div",null,[t[118]||(t[118]=e("h4",{class:"text-xs font-semibold text-gatales-text-secondary uppercase tracking-wider mb-3"},"Mejores practicas",-1)),i.value?(n(),o("div",xa,[...t[116]||(t[116]=[O('<div class="flex gap-2" data-v-ba5235e8><span class="text-blue-400 shrink-0" data-v-ba5235e8>1.</span><span data-v-ba5235e8>Usa instrucciones <strong class="text-gatales-text" data-v-ba5235e8>directas y concisas</strong></span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-blue-400 shrink-0" data-v-ba5235e8>2.</span><span data-v-ba5235e8>Formato de <strong class="text-gatales-text" data-v-ba5235e8>lista numerada</strong> para pasos</span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-blue-400 shrink-0" data-v-ba5235e8>3.</span><span data-v-ba5235e8>Especifica el <strong class="text-gatales-text" data-v-ba5235e8>idioma de respuesta</strong></span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-blue-400 shrink-0" data-v-ba5235e8>4.</span><span data-v-ba5235e8>Evita prompts excesivamente largos</span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-blue-400 shrink-0" data-v-ba5235e8>5.</span><span data-v-ba5235e8>Incluye <strong class="text-gatales-text" data-v-ba5235e8>ejemplos breves</strong> si es necesario</span></div>',5)])])):(n(),o("div",va,[...t[117]||(t[117]=[O('<div class="flex gap-2" data-v-ba5235e8><span class="text-green-400 shrink-0" data-v-ba5235e8>1.</span><span data-v-ba5235e8>Usa <strong class="text-gatales-text" data-v-ba5235e8>## Encabezados</strong> para estructurar</span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-green-400 shrink-0" data-v-ba5235e8>2.</span><span data-v-ba5235e8>Puedes ser <strong class="text-gatales-text" data-v-ba5235e8>detallado y especifico</strong></span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-green-400 shrink-0" data-v-ba5235e8>3.</span><span data-v-ba5235e8>Incluye <strong class="text-gatales-text" data-v-ba5235e8>ejemplos de conversacion</strong></span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-green-400 shrink-0" data-v-ba5235e8>4.</span><span data-v-ba5235e8>Define claramente <strong class="text-gatales-text" data-v-ba5235e8>personalidad y tono</strong></span></div><div class="flex gap-2" data-v-ba5235e8><span class="text-green-400 shrink-0" data-v-ba5235e8>5.</span><span data-v-ba5235e8>Usa <strong class="text-gatales-text" data-v-ba5235e8>markdown</strong> para formato</span></div>',5)])]))]),e("div",null,[t[124]||(t[124]=e("h4",{class:"text-xs font-semibold text-gatales-text-secondary uppercase tracking-wider mb-3"},"Estructura recomendada",-1)),e("div",ma,[e("button",{type:"button",onClick:t[33]||(t[33]=s=>a.value.system_prompt+=`

## ROL
`),class:"w-full flex items-center gap-2 text-xs px-3 py-2 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-left"},[...t[119]||(t[119]=[e("span",{class:"w-2 h-2 rounded-full bg-green-500 shrink-0"},null,-1),e("span",{class:"text-gatales-text font-medium"},"ROL",-1),e("span",{class:"text-gatales-text-secondary ml-auto"},"Quien es",-1)])]),e("button",{type:"button",onClick:t[34]||(t[34]=s=>a.value.system_prompt+=`

## PERSONALIDAD
`),class:"w-full flex items-center gap-2 text-xs px-3 py-2 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-left"},[...t[120]||(t[120]=[e("span",{class:"w-2 h-2 rounded-full bg-blue-500 shrink-0"},null,-1),e("span",{class:"text-gatales-text font-medium"},"PERSONALIDAD",-1),e("span",{class:"text-gatales-text-secondary ml-auto"},"Tono y estilo",-1)])]),e("button",{type:"button",onClick:t[35]||(t[35]=s=>a.value.system_prompt+=`

## INSTRUCCIONES
`),class:"w-full flex items-center gap-2 text-xs px-3 py-2 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-left"},[...t[121]||(t[121]=[e("span",{class:"w-2 h-2 rounded-full bg-yellow-500 shrink-0"},null,-1),e("span",{class:"text-gatales-text font-medium"},"INSTRUCCIONES",-1),e("span",{class:"text-gatales-text-secondary ml-auto"},"Que hacer",-1)])]),e("button",{type:"button",onClick:t[36]||(t[36]=s=>a.value.system_prompt+=`

## FORMATO
`),class:"w-full flex items-center gap-2 text-xs px-3 py-2 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-left"},[...t[122]||(t[122]=[e("span",{class:"w-2 h-2 rounded-full bg-purple-500 shrink-0"},null,-1),e("span",{class:"text-gatales-text font-medium"},"FORMATO",-1),e("span",{class:"text-gatales-text-secondary ml-auto"},"Como responder",-1)])]),e("button",{type:"button",onClick:t[37]||(t[37]=s=>a.value.system_prompt+=`

## RESTRICCIONES
`),class:"w-full flex items-center gap-2 text-xs px-3 py-2 bg-gatales-input hover:bg-gatales-border rounded transition-colors text-left"},[...t[123]||(t[123]=[e("span",{class:"w-2 h-2 rounded-full bg-red-500 shrink-0"},null,-1),e("span",{class:"text-gatales-text font-medium"},"RESTRICCIONES",-1),e("span",{class:"text-gatales-text-secondary ml-auto"},"Que evitar",-1)])])])]),e("div",null,[t[129]||(t[129]=e("h4",{class:"text-xs font-semibold text-gatales-text-secondary uppercase tracking-wider mb-3"},"Plantillas predefinidas",-1)),e("div",ga,[e("button",{type:"button",onClick:t[38]||(t[38]=s=>h("guiones")),class:"flex flex-col items-start gap-1 text-xs p-3 bg-gatales-input hover:bg-gatales-border rounded-lg transition-colors text-left"},[...t[125]||(t[125]=[e("span",{class:"text-gatales-text font-medium"},"Guionista",-1),e("span",{class:"text-gatales-text-secondary text-[10px]"},"Videos y redes sociales",-1)])]),e("button",{type:"button",onClick:t[39]||(t[39]=s=>h("asistente")),class:"flex flex-col items-start gap-1 text-xs p-3 bg-gatales-input hover:bg-gatales-border rounded-lg transition-colors text-left"},[...t[126]||(t[126]=[e("span",{class:"text-gatales-text font-medium"},"Asistente",-1),e("span",{class:"text-gatales-text-secondary text-[10px]"},"Uso general",-1)])]),e("button",{type:"button",onClick:t[40]||(t[40]=s=>h("experto")),class:"flex flex-col items-start gap-1 text-xs p-3 bg-gatales-input hover:bg-gatales-border rounded-lg transition-colors text-left"},[...t[127]||(t[127]=[e("span",{class:"text-gatales-text font-medium"},"Experto",-1),e("span",{class:"text-gatales-text-secondary text-[10px]"},"Tecnico especializado",-1)])]),e("button",{type:"button",onClick:t[41]||(t[41]=s=>h("creativo")),class:"flex flex-col items-start gap-1 text-xs p-3 bg-gatales-input hover:bg-gatales-border rounded-lg transition-colors text-left"},[...t[128]||(t[128]=[e("span",{class:"text-gatales-text font-medium"},"Creativo",-1),e("span",{class:"text-gatales-text-secondary text-[10px]"},"Escritura y contenido",-1)])])])]),e("div",{class:c(["p-3 rounded-lg text-xs",i.value?"bg-blue-500/10 border border-blue-500/20":"bg-green-500/10 border border-green-500/20"])},[e("p",{class:c(["font-medium mb-1",i.value?"text-blue-400":"text-green-400"])},r(i.value?"Nota para DeepSeek":"Nota para GPT"),3),i.value?(n(),o("p",ba," DeepSeek funciona mejor con instrucciones concisas. Evita bloques de texto muy extensos y prioriza la claridad sobre el detalle. ")):(n(),o("p",fa," GPT puede procesar instrucciones complejas y detalladas. Aprovecha la estructuracion con markdown y ejemplos para mejores resultados. "))],2)])])]),e("div",ya,[e("button",{type:"button",onClick:t[42]||(t[42]=s=>C.value=!1),class:"btn-primary"}," Listo ")])])):p("",!0)]))}},Ca=Te(ka,[["__scopeId","data-v-ba5235e8"]]);export{Ca as default};
